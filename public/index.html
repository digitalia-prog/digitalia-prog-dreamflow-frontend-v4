<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>UGC Growth</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { font-family: Arial, sans-serif; background:#0f0f1a; color:#fff; padding:40px; }
    h1 { margin: 0 0 8px; }
    p { opacity:.85; margin: 0 0 18px; }
    .wrap { max-width: 980px; margin: 0 auto; }
    .card { background:#141428; border:1px solid rgba(255,255,255,.08); border-radius:14px; padding:18px; }
    .grid { display:grid; grid-template-columns: repeat(3, 1fr); gap:12px; margin: 14px 0 12px; }
    label { font-size:12px; opacity:.9; display:block; margin: 0 0 6px; }
    select, textarea {
      width:100%; border-radius:10px; padding:10px; font-size:14px;
      border:1px solid rgba(255,255,255,.12); background:#0f0f1a; color:#fff;
      outline:none;
    }
    textarea { height:120px; resize:vertical; }
    .row { display:flex; gap:10px; align-items:center; margin-top:12px; flex-wrap:wrap; }
    button {
      padding:12px 18px; background:#7c3aed; color:white; border:none; border-radius:10px;
      cursor:pointer; font-size:15px; font-weight:700;
    }
    button.secondary { background:transparent; border:1px solid rgba(255,255,255,.18); font-weight:600; }
    button:disabled { opacity:.6; cursor:not-allowed; }
    .hint { font-size:12px; opacity:.75; margin-top:10px; }
    pre {
      white-space:pre-wrap; background:#0f0f1a; border:1px solid rgba(255,255,255,.10);
      padding:16px; border-radius:12px; margin-top:14px; min-height:140px;
    }
    .pill {
      display:inline-flex; gap:8px; align-items:center; font-size:12px;
      padding:6px 10px; border-radius:999px; background:rgba(124,58,237,.15);
      border:1px solid rgba(124,58,237,.35); margin-top:10px;
    }
    @media (max-width: 860px) {
      .grid { grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <h1>ğŸš€ UGC Growth</h1>
    <p>GÃ©nÃ¨re une <b>stratÃ©gie + script UGC</b> (agence / freelance / CM) prÃªt Ã  tourner et orientÃ© conversion.</p>

    <div class="card">
      <div class="grid">
        <div>
          <label for="platform">ğŸ“± RÃ©seau</label>
          <select id="platform">
            <option value="TikTok">TikTok</option>
            <option value="Instagram Reels">Instagram Reels</option>
            <option value="YouTube Shorts">YouTube Shorts</option>
            <option value="Snapchat Spotlight">Snapchat Spotlight</option>
            <option value="Meta Ads">Meta Ads (FB/IG)</option>
            <option value="TikTok Ads">TikTok Ads</option>
          </select>
        </div>

        <div>
          <label for="deliverable">ğŸ“ Livrable</label>
          <select id="deliverable">
            <option value="Script UGC complet">Script UGC complet</option>
            <option value="Hooks only">Hooks only (10 hooks)</option>
            <option value="StratÃ©gie UGC + Ads">StratÃ©gie UGC + Ads</option>
            <option value="Prompt IA agence">Prompt IA agence (copier/coller)</option>
          </select>
        </div>

        <div>
          <label for="goal">ğŸ¯ Objectif</label>
          <select id="goal">
            <option value="Ventes">Ventes</option>
            <option value="Leads">Leads</option>
            <option value="NotoriÃ©tÃ©">NotoriÃ©tÃ©</option>
            <option value="Engagement">Engagement</option>
          </select>
        </div>
      </div>

      <label for="prompt">ğŸ¬ Contexte (produit / niche / cible / offre / objection / angle)</label>
      <textarea id="prompt" placeholder='Ex : "sac Ã  main luxe â€“ femmes 18-30 â€“ TikTok â€“ prix 39â‚¬ â€“ objection: peur qualitÃ© â€“ angle: look luxe abordable"'></textarea>

      <div class="row">
        <button id="generate">ğŸš€ GÃ©nÃ©rer</button>
        <button id="copy" class="secondary">ğŸ“‹ Copier</button>
        <span id="status" class="pill">ğŸŸ£ PrÃªt</span>
      </div>

      <div class="hint">Astuce : ajoute une objection (â€œtrop cherâ€, â€œpeur qualitÃ©â€, â€œdÃ©jÃ  essayÃ©â€) â†’ Ã§a booste la conversion.</div>

      <pre id="output">Ton rÃ©sultat apparaÃ®tra iciâ€¦</pre>
    </div>
  </div>

  <script>
    const btn = document.getElementById('generate');
    const btnCopy = document.getElementById('copy');
    const out = document.getElementById('output');
    const statusEl = document.getElementById('status');

    function setStatus(txt) { statusEl.textContent = txt; }

    function buildPrompt({ userPrompt, platform, deliverable, goal }) {
      // Ajustements par rÃ©seau (vite + efficace)
      const format = (platform.includes("Ads"))
        ? "Format Ads (proof + offre + CTA)"
        : "Format UGC organique (facecam + rythme + punchlines)";

      // Livrables diffÃ©rents
      if (deliverable === "Hooks only") {
        return `
Tu es un expert UGC + Growth Marketing (niveau Ã©lite) pour agences et freelances.
Plateforme: ${platform}
Objectif: ${goal}
Format: ${format}

DEMANDE UTILISATEUR:
"${userPrompt}"

TÃ‚CHE:
Donne 10 hooks ULTRA MODERNES (fort CTR) adaptÃ©s Ã  ${platform}.
Pour chaque hook:
- Hook (1 phrase)
- Intention (curiositÃ© / preuve / bÃ©nÃ©fice / FOMO / anti-problÃ¨me)
- Variante A/B (2 alternatives)
Contraintes: pas gÃ©nÃ©rique, pas scolaire, punchy, prÃªt Ã  tourner.
`.trim();
      }

      if (deliverable === "Prompt IA agence") {
        return `
PROMPT A COPIER-COLLER (AGENCE / FREELANCE UGC)

Tu es un stratÃ¨ge UGC + Growth senior.
Plateforme: ${platform}
Objectif: ${goal}
Format: ${format}

Contexte:
"${userPrompt}"

Livrable attendu:
1) Angle marketing principal (1 phrase)
2) Positionnement + promesse (2 lignes max)
3) 7 hooks (fort CTR)
4) Script UGC mot Ã  mot (30â€“45s) : Hook / ProblÃ¨me / Solution / Preuve / Objection / CTA
5) 3 variantes de CTA (soft/direct/urgence)
6) Plan de tournage smartphone (plans + textes Ã©cran)
Contraintes: concret, moderne, orientÃ© conversion, zÃ©ro blabla.
`.trim();
      }

      if (deliverable === "StratÃ©gie UGC + Ads") {
        return `
Tu es un expert UGC + Growth (niveau agence).
Plateforme: ${platform}
Objectif: ${goal}
Format: ${format}

CONTEXTE UTILISATEUR:
"${userPrompt}"

DONNE (niveau expert, sans blabla):
1) Angle marketing principal (1 phrase)
2) 3 angles secondaires (bullet)
3) 5 hooks "growth" (fort CTR) + intention
4) Script UGC mot Ã  mot (30â€“45s) : Hook / ProblÃ¨me / Solution / Preuve / Objection / CTA
5) Plan Ads: 3 variantes (UGC proof / UGC comparaison / UGC objection)
6) KPI cible + 2 optimisations concrÃ¨tes
7) Plan de tournage smartphone (plans + textes Ã  lâ€™Ã©cran)
Contraintes: prÃªt client, moderne, conversion.
`.trim();
      }

      // Script UGC complet (par dÃ©faut)
      return `
Tu es un expert UGC + Growth Marketing (niveau Ã©lite).
Tu travailles pour des agences marketing digital, freelances UGC et CM.
Plateforme: ${platform}
Objectif: ${goal}
Format: ${format}

OBJECTIF :
CrÃ©er une STRATÃ‰GIE + SCRIPT UGC prÃªt Ã  tourner et orientÃ© conversion.

FORMAT OBLIGATOIRE :
1) ğŸ¯ Angle marketing principal (1 phrase claire)
2) ğŸ£ 5 hooks puissants (fort CTR, modernes)
3) ğŸ¬ Script UGC MOT Ã€ MOT (30â€“40s)
   - Hook (0â€“3s)
   - ProblÃ¨me
   - Solution
   - Preuve / crÃ©dibilitÃ©
   - CTA clair
4) ğŸ§  3 variantes de CTA (soft / direct / urgence)
5) ğŸ¥ Mini plan de tournage smartphone (plans, gestes, textes Ã  lâ€™Ã©cran)

CONTEXTE UTILISATEUR :
"${userPrompt}"

CONTRAINTES :
- Ultra concret
- OrientÃ© performance & conversion
- Pas de blabla
- PrÃªt Ã  Ãªtre envoyÃ© Ã  un client
`.trim();
    }

    btn.addEventListener('click', async () => {
      const textarea = document.getElementById('prompt');
      const userPrompt = (textarea?.value || '').trim();

      const platform = document.getElementById('platform').value;
      const deliverable = document.getElementById('deliverable').value;
      const goal = document.getElementById('goal').value;

      if (!userPrompt) {
        out.textContent = "âŒ Ã‰cris une demande dans le champ.";
        return;
      }

      const prompt = buildPrompt({ userPrompt, platform, deliverable, goal });

      btn.disabled = true;
      setStatus("â³ GÃ©nÃ©rationâ€¦");
      out.textContent = "â³ GÃ©nÃ©rationâ€¦";

      try {
        const res = await fetch('/api/generate', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ prompt })
        });

        const data = await res.json();

        if (!res.ok || !data?.success) {
          out.textContent = "âŒ Erreur API";
          setStatus("ğŸ”´ Erreur");
          btn.disabled = false;
          return;
        }

        out.textContent = data.content || "âŒ Aucun contenu gÃ©nÃ©rÃ©";
        setStatus("ğŸŸ¢ OK");
      } catch (err) {
        console.error(err);
        out.textContent = "âŒ Erreur rÃ©seau";
        setStatus("ğŸ”´ RÃ©seau");
      } finally {
        btn.disabled = false;
      }
    });

    btnCopy.addEventListener('click', async () => {
      try {
        await navigator.clipboard.writeText(out.textContent || "");
        setStatus("âœ… CopiÃ©");
      } catch {
        setStatus("âš ï¸ Copie impossible");
      }
    });
  </script>
</body>
</html>

